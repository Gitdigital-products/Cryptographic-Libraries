// Special test for 1,000,000 'a's (memory efficient)
static int test_million_a(uint8_t expected[32]) {
    uint32_t state[8];
    uint8_t block[64];
    uint64_t total_bits;
    
    // Initialize state
    memcpy(state, H0, sizeof(H0));
    
    // Fill a block with 'a's (0x61)
    memset(block, 0x61, 64);
    
    // Process 15625 blocks of 64 'a's each (15625 * 64 = 1,000,000)
    for (int i = 0; i < 15625; i++) {
        sha256_compress(state, block);
    }
    
    // Final block with padding
    memset(block, 0x80, 1);
    memset(&block[1], 0, 55);
    
    total_bits = 1000000ULL * 8;
    for (int j = 0; j < 8; j++) {
        block[56 + j] = (uint8_t)(total_bits >> (56 - j * 8));
    }
    
    sha256_compress(state, block);
    
    // Convert to bytes
    for (int i = 0; i < 8; i++) {
        be32enc(&expected[i * 4], state[i]);
    }
    
    return 0;
}